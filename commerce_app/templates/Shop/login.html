{% extends 'Shop/base.html' %}
{% load static %}

{% block title %}
Login Page
{% endblock title %}

{% block hero %}
<link rel="stylesheet" type="text/css" href="{% static 'css/util.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
<style>
/* Professional Toast Message Styles */
.toast-message {
    position: fixed;
    top: 20px;
    right: 20px;
    background: linear-gradient(45deg, #28a745, #20c997);
    color: white;
    padding: 15px 20px;
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    z-index: 9999;
    min-width: 300px;
    max-width: 500px;
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.3s ease-in-out;
    animation: slideInRight 0.5s ease-out forwards;
}

.toast-message.toast-error {
    background: linear-gradient(45deg, #dc3545, #e74c3c);
}

.toast-message.toast-warning {
    background: linear-gradient(45deg, #ffc107, #f39c12);
    color: #000;
}

.toast-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.toast-text {
    font-size: 16px;
    font-weight: 500;
    flex: 1;
    margin-right: 15px;
}

.toast-close {
    background: none;
    border: none;
    color: inherit;
    font-size: 20px;
    cursor: pointer;
    padding: 0;
    width: 25px;
    height: 25px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background-color 0.2s;
}

.toast-close:hover {
    background-color: rgba(255, 255, 255, 0.2);
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideOutRight {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}
</style>
{% endblock hero %}

{% block main %}
<!-- Professional Toast Message -->
{% if messages %}
	{% for message in messages %}
	<div id="toast-message" class="toast-message toast-{{ message.tags }}">
		<div class="toast-content">
			<span class="toast-text">{{ message }}</span>
			<button class="toast-close" onclick="closeToast()">&times;</button>
		</div>
	</div>
	{% endfor %}
{% endif %}

<div class="limiter">
	<div class="container-login100">
		<div class="wrap-login100">
			<div class="login100-form-title">
				<span class="login100-form-title-1">
					Sign In
				</span>
			</div>

			<form class="login100-form validate-form" method="POST" novalidate>
				{% csrf_token %}

				{% for form in form %}
				<div>
					{{ form.label_tag }} {{ form }} <small class="text-danger">{{ form.errors | striptags }}</small> <br> <br>
				</div>
				{% endfor %}
				<!-- <div class="wrap-input100 validate-input m-b-26" data-validate="Username is required">
					<span class="label-input100">Username</span>
					<input class="input100" type="text" name="username" placeholder="Enter username">
					<span class="focus-input100"></span>
				</div>

				<div class="wrap-input100 validate-input m-b-18" data-validate="Password is required">
					<span class="label-input100">Password</span>
					<input class="input100" type="password" name="pass" placeholder="Enter password">
					<span class="focus-input100"></span>
				</div> -->

				<div class="flex-sb-m w-full p-b-30">
					<div class="contact100-form-checkbox">
						<input class="input-checkbox100" id="ckb1" type="checkbox" name="remember-me">
						<label class="label-checkbox100" for="ckb1">
							Remember me
						</label>
					</div>

					<div class="anchor-a">
						<a href="{% url 'password_reset' %}" class="txt1">
							Forgot Password?
						</a>
					</div>
				</div>

				<div class="container-login100-form-btn" style="display: flex; gap: 15px;">
					<input class="login100-form-btn" type="submit" value="Login Here" style="flex: 1;">
					<a href="{% url 'register_form' %}" class="login100-form-btn" style="flex: 1; text-decoration: none; border: none;">
						Sign up here
					</a>
				</div>
			</form>
		</div>
	</div>
</div>
{% endblock main %}

{% block scripthero %}
<script src="{% static 'js/main.js' %}"></script>
<script>
// Toast Message JavaScript
function closeToast() {
    const toast = document.getElementById('toast-message');
    if (toast) {
        toast.style.animation = 'slideOutRight 0.3s ease-out forwards';
        setTimeout(() => {
            toast.remove();
        }, 300);
    }
}

// Auto close toast after 5 seconds
document.addEventListener('DOMContentLoaded', function() {
    const toast = document.getElementById('toast-message');
    if (toast) {
        setTimeout(() => {
            closeToast();
        }, 5000);
    }
});
</script>
{% endblock scripthero %}